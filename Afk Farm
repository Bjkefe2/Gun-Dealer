
local IsA = game.IsA

getgenv().Farm = true;


local vu = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:connect(function()
  vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
  wait(1)
  vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)

local function Sell()
    for i,v in pairs(game:GetService("Workspace").SellBoxPort:GetDescendants()) do 
        if IsA(v,"BasePart") and v.Name == "Seller" then 
            if game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then 
            local Hum = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            firetouchinterest(Hum,v,0)
            wait()
            firetouchinterest(Hum,v,1)
            end
        end
    end
end

local function PlayerBoxDetect()
    for i,v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
        if IsA(v,"Model") and v.Name == "PistolBox" then 
            return true
        end
    end
    return false
end


local function FromPlayerDistance(p1)
    local Plr = game.Players.LocalPlayer 
    local Hum = Plr.Character.HumanoidRootPart
    if (Hum.Position - p1.Position).Magnitude < 10 then
        return true
    end
    return false
end



local function TweenFromPlayer(p1)
    local Tween = game:GetService("TweenService")
    local plr = game.Players.LocalPlayer 
    local hum = plr.Character.HumanoidRootPart
    Tween:create(hum,TweenInfo.new(1),{CFrame = CFrame.new(p1.Position)}):Play()
end


local function FromPlayerTycoon()
    for i,v in pairs(game:GetService("Workspace")["Zednov Tycoon Kit Modded Edyszyn"]:GetDescendants()) do 
        if IsA(v,"ObjectValue") and v.Name == "Owner" then 
            if v.Value == game.Players.LocalPlayer then
            return v.Parent
            end
        end
    end
    return "Not Find Base"
end

local function AutoDelivery()
    local MyBase = FromPlayerTycoon()
    for i,v in pairs(MyBase:GetDescendants()) do 
        if IsA(v,"BasePart") and v.Name == "Part" and v.Parent.Name == "PistolBox" then 
            if PlayerBoxDetect() then 
            Sell()
            elseif FromPlayerDistance(v)  and v.Parent.Parent.Parent:FindFirstChild("Storage"):FindFirstChild("PickUpCrate") then
            fireproximityprompt(v.Parent.Parent.Parent:FindFirstChild("Storage"):FindFirstChild("PickUpCrate"))
            else
            TweenFromPlayer(v)
            end
        end
    end
end

while getgenv().Farm == true do wait()
AutoDelivery()
end
